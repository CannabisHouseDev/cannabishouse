= form_with(model: [ @user, profile ], local: true) do |profile_form|
  - if @user.profile.errors.any?
    #error_explanation
      %h2= "#{pluralize(@user.profile.errors.count, "error")} prohibited this profile from being saved:"
      %ul
        - @user.profile.errors.full_messages.each do |message|
          %li= message
  .flex.flex-wrap.flex-col.md:mx-8.lg:mx-24.xl:mx-48.2xl:mx-80
    .flex
      .field.w-full.mb-5.flex.flex-col.items-center
        - if @user.profile.avatar.attached?
          = image_tag(@user.profile.avatar, size: 280, class: "h-64 w-64 items-center rounded-full border")
        - else
          = image_tag(gravatar_url_for(current_user.email, size: 280), class: "h-64 w-64 items-center rounded-full border")
        = profile_form.file_field :avatar, class: "w-64"
    .flex.mb-5
      .field.mr-10{class: "w-1/2"}
        = show_errors(@profile, :first_name)
        = profile_form.label :first_name, class: 'Form-label'
        = profile_form.text_field :first_name, placeholder: "Twoje ImiÄ™", class: 'Form-input rounded bg-gray-200 ring-1 ring-gray-500'
      .field.ml-10{class: "w-1/2"}
        = profile_form.label :last_name, class: 'Form-label '
        = profile_form.text_field :last_name, placeholder: "Twoje Nazwisko", class: 'Form-input rounded bg-gray-200 ring-1 ring-gray-500'
    .flex.mb-5
      .field.mr-10{class: "w-1/2"}
        = profile_form.label :pesel, class: 'Form-label'
        = profile_form.text_field :pesel, placeholder: I18n.t('activerecord.attributes.profile.pesel_11_digit'), class: 'Form-input bg-gray-200 ring-1 ring-gray-500'
      .field.ml-10{class: "w-1/2"}
        = profile_form.label :contact_number, class: 'Form-label'
        = profile_form.text_field :contact_number, placeholder: '777888999', class: 'Form-input bg-gray-200 ring-1 ring-gray-500'
    .flex.mb-5
      .field.mr-10{class: "w-1/2"}
        = profile_form.label :nick_name, class: 'Form-label'
        = profile_form.text_field :nick_name, placeholder: "Nick na forum", class: 'Form-input bg-gray-200 ring-1 ring-gray-500'
      .field.ml-10{class: "w-1/2"}
        = profile_form.label :skills, class: 'Form-label'
        = profile_form.text_field :skills, placeholder: "np. mechanik, stylistka", class: 'Form-input bg-gray-200 ring-1 ring-gray-500'

    .flex.mb-5
      .field.mr-10{class: "w-1/2"}
        = profile_form.label :gender, class: 'Form-label'
        = profile_form.select :gender, Profile.genders.keys.to_a, {prompt: true}, class: 'Form-input bg-gray-200 ring-1 ring-gray-500'
      .actions.ml-10.mt-3{class: "w-1/2"}
        = profile_form.submit 'Zapisz', class: 'Form-submit w-full bg-gray-100 ring-1 ring-green-200 hover:bg-gray-100 text-green-300 text-opacity-100 text-3xl'
